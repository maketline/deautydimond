<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta property="og:locale" content="th_TH" />
    <meta property="og:site_name" content="Beauty.Diamond" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Beauty.Diamond" />
    <meta property="og:description" content="Beauty.Diamond" />
    <meta property="og:url" content="https://shop.line.me/@beauty.diamond" />
    <meta property="og:image" content="https://profile.line-scdn.net/0hjXg8qFmYNXdaQSck8dZKIGYEOxotbzM_InJ7FSpCbEUgd3cnYiQtRixDbhR2JXV2M3V5EHwRbEZ1" />
    <meta property="og:image:secure_url" content="https://profile.line-scdn.net/0hjXg8qFmYNXdaQSck8dZKIGYEOxotbzM_InJ7FSpCbEUgd3cnYiQtRixDbhR2JXV2M3V5EHwRbEZ1" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <title>กิจกรรมทายผลเลขท้าย2ตัว</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  	<link href="/style.css" rel="stylesheet" type="text/css" />
   <!-- LineSeed Fonts -->
<link href="https://cdn.jsdelivr.net/gh/maketline/goodday/font/stylesheet.min.css" rel="stylesheet">
    <style type="text/css">
        body {
            font-family: 'line_seed_sans_th';
        }
    </style>
</head>

<body>
  <div class="mt-4 text-center">
		<div clas="justify-content-center align-items-center">
			<!-- ดึงไฟล์ jsTimer.html มารวมกับ index.html -->
			<!-- Ref:https://dev.to/code_mystery/simple-countdown-timer-using-javascript-1jab -->

			<!-- -------- ตัวเลขนับถอยหลัง ------ -->
			<div id="timer"></div>

			<!-- -------- ข้อความแจ้งเตือนด้านล่างของตัวนับ ------ -->
			<div class="mt-4 text-center text-light" id="msgStatus"></div>
		</div>
	</div>
	<section id="cover" style="display:none;">
    <div class="container">
					
									<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
										<div class="carousel-indicators">
											<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
												class="active" aria-current="true" aria-label="Slide 1"></button>
											<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
												aria-label="Slide 2"></button>
											<!-- <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
       <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
       <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button> -->
										</div>
										<div class="carousel-inner">
											<div class="carousel-item active">
												<img src="https://promotions.co.th/wp-content/uploads/2020/02/Uf.jpg" class="d-block w-100"
													alt="...">
											
											</div>
											<div class="carousel-item">
												<img src="https://obs.line-scdn.net/r/ect/ect/image_167548172840904131122dd9833t1119f970"
													class="d-block w-100" alt="...">
												<div class="carousel-caption  d-md-block">
													<!--           <h5 class="badge bg-primary text-wrap" style="width: 6rem;" >สินค้าโปรโมชั่น</h5> -->
												</div>
											</div>
											<div class="carousel-item">
												<img src="https://obs.line-scdn.net/r/ect/ect/image_169050434116460858622dc3177t11ff3385"
													class="d-block w-100" alt="...">
												<div class="carousel-caption  d-md-block">
													<!--           <h5 class="badge bg-primary text-wrap" style="width: 6rem;" >สินค้าโปรโมชั่น</3</h5> -->
												</div>
											</div>
											<div class="carousel-item">
												<img src="https://obs.line-scdn.net/r/ect/ect/image_1689768610134100582b57a9608t11f3f992"
													class="d-block w-100" alt="...">
												<div class="carousel-caption  d-md-block">
													<!--           <h5 class="badge bg-primary text-wrap" style="width: 6rem;" >สินค้าโปรโมชั่น</4</h5> -->
												</div>
											</div>
											<div class="carousel-item">
												<img src="https://d.line-scdn.net/obs/r/ect/ect/image_165493380306192557119ca3404t0fe0701b/s640"
													class="d-block w-100" alt="...">
												<div class="carousel-caption  d-md-block">
													<!--           <h5 class="badge bg-primary text-wrap" style="width: 6rem;" >สินค้าโปรโมชั่น</h5> -->
												</div>
											</div>
										</div>
										<div class="carousel-item">
											<img src="https://d.line-scdn.net/obs/r/ect/ect/image_165733551754556205819d02228t100515cd/s640"
												class="d-block w-100" alt="...">
											<div class="carousel-caption  d-md-block">
												<!--           <h5 class="badge bg-primary text-wrap" style="width: 6rem;" >สินค้าโปรโมชั่น</h5> -->
											</div>
										</div>
									</div>
									<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
										data-bs-slide="prev">
										<span class="carousel-control-prev-icon" aria-hidden="true"></span>
										<span class="visually-hidden">Previous</span>
									</button>
									<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
										data-bs-slide="next">
										<span class="carousel-control-next-icon" aria-hidden="true"></span>
										<span class="visually-hidden">Next</span>
									</button>
								</div>
							</div>
							<div class="container">
								<div class="alert alert-danger mt-3" role="alert">
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
										class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img"
										aria-label="Warning:">
										<path
											d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
									</svg>
									<h4 class="alert-heading">แจ้งกติกาทายหวย!</h4>
									<p>1คนต่อ1 IdLINE <br>ทายได้คนละ5 หมายเลข<br>
										รับคำทายถึง13.00 น.เท่านั้น<br></p>
									<p>ทายฟรี ลุ้นโชคทายเลขท้าย2 ตัว <br>1 รางวัล 500 บาท<br>
										ทายถูกหลายคนหารตามส่วน<br></p>
									<hr>
									<p class="mb-0">กรณีถูกรางวัลกรุณาแคปสลิปคำทายเพื่อเป็นหลักฐานส่งมาที่ช่องทางแชทได้เลยค่ะ</p>

                </div></div></div>
		<!-- /############ หน้าตรวจสอบรายชื่อผู้มีสิทธิลงคะแนน ##########/ -->
		<div id="loginPage" style="display:block;">
			<div id="login-form" class="container-sm fade-in-page mt-4 card-form " style="max-width: 25rem; display:block;">
				<div class="container py-4">
					<div class="form-group mt-3">
    <div class="container mt-5">
        <div class="card shadow-sm">
            <div class="card-body">
                <center>
                    <img class="rounded-circle mb-3" id="pictureUrl" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcjg5ajlhemdyZjlrZDgwdjMwbTl1dGdtbnhvM2p4Y2t0ZnpnZnE4ciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/l150Tal3EKqgj0v9gs/giphy.gif" alt="Woman's Face" style="height: 96px;">
                    <h5 class="card-title" id="displayName">....</h5>
                </center>
                <h2 class="card-title mt-4 text-center">ทายผลเลขท้าย2ตัว</h2>
              <p class="text-center">
              	  งวด
												<script language="javascript">
													now = new Date();
													var thday = new Array("อาทิตย์", "จันทร์",
														"อังคาร", "พุธ", "พฤหัส", "ศุกร์", "เสาร์");
													var thmonth = new Array("มกราคม", "กุมภาพันธ์", "มีนาคม",
														"เมษายน", "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม", "กันยายน",
														"ตุลาคม", "พฤศจิกายน", "ธันวาคม");

													  document.write("วัน" + thday[now.getDay()] + "ที่ " + now.getDate() + " " +
														thmonth[now.getMonth()] + " " + (0 + now.getYear() + 2443));
												</script>
												</p>
              
                <form action="" id="loginForm" class="was-validated" autocomplete="off" name="google-sheet">
<!--                     <div class="form-group">
                        <textarea id="complain" class="form-control" rows="4" placeholder="โปรดกรอกข้อความ" name="complain" required></textarea>
                    </div> -->
                  	<div class="form-group col-md-4">
												<label for="number1">เบอร์โทรติดต่อ</label>
												<input type="tel" class="form-control" pattern="[0-9]{10}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="ระบุเบอร์โทรติดต่อกลับ" id="tel" name="tel" maxlength="10" required>
												<div class="valid-feedback">ป้อนเบอร์โทรครบ10หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเบอร์โทรให้ครบ10หลัก</div>
											</div>

											<div class="form-group col-md-2">
												<label for="number1">เลขที่1</label>
												<input type="tel" class="form-control" pattern="[0-9]{2}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="เลขที่1" id="number1" name="number1" maxlength="2" required>
												<div class="valid-feedback">ป้อนเลขครบ2หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเลขที่จะทายให้ครบ2หลัก</div>
											</div>
											<div class="form-group col-md-2">
												<label for="number2">เลขที่2</label>
												<input type="tel" class="form-control" pattern="[0-9]{2}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="เลขที่2" id="number2" name="number2" maxlength="2" required>
												<div class="valid-feedback">ป้อนเลขครบ2หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเลขที่จะทายให้ครบ2หลัก</div>
											</div>
											<div class="form-group col-md-2">
												<label for="number3">เลขที่3</label>
												<input type="tel" class="form-control" pattern="[0-9]{2}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="เลขที่3" id="number3" name="number3" maxlength="2" required>
												<div class="valid-feedback">ป้อนเลขครบ2หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเลขที่จะทายให้ครบ2หลัก</div>
											</div>
											<div class="form-group col-md-2">
												<label for="number4">เลขที่4</label>
												<input type="tel" class="form-control" pattern="[0-9]{2}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="เลขที่4" id="number4" name="number4" maxlength="2" required>
												<div class="valid-feedback">ป้อนเลขครบ2หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเลขที่จะทายให้ครบ2หลัก</div>
											</div>
											<div class="form-group col-md-2">
												<label for="number5">เลขที่5</label>
												<input type="tel" class="form-control" pattern="[0-9]{2}"
													oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
													placeholder="เลขที่5" id="number5" name="number5" maxlength="2" required>
												<div class="valid-feedback">ป้อนเลขครบ2หลักแล้ว</div>
												<div class="invalid-feedback">กรุณาป้อนเลขที่จะทายให้ครบ2หลัก</div>
											</div>
							
										<div class="row"> </div>
										<div class="col"> </div>
										<div class="form-check mb-3">
											<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
											<input type="checkbox" class="form-check-input" name='visto' id='visto' value='' required>
											<label class="form-check-label" for="validationFormCheck1">ยอมรับเงื่อนไขตามตกลง
												และยืนยันการส่งข้อมูลส่วนตัวของท่าน ข้อมูลที่ส่งมาทางร้านCrystal Diamond Olin
												จะใช้ในการส่งเสริมการขายและการตลาดเท่านั้นข้อมูลของท่านจะถูกรักษาไว้เป็นความลับและจะลบทิ้งเมื่อเสร็จสิ้นกิจกรรม</label>
											<div class="invalid-feedback">หากไม่ยอมรับเงื่อนนไขจะไม่สามารถร่วมกิจกรรมได้</div>
										</div>
                    <button type="submit" id="message" class="btn btn-primary bd-indigo-500 btn-block text-white">ส่งผลทายหวยเลข2ตัว</button>
                </form>
            </div>
        </div>
    </div>
    <div id="loading-overlay" class="fixed-top vh-100 vw-100 d-none justify-content-center align-items-center" style="background: rgba(128, 128, 128, 0.5);">
        <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExYXJka28zMXRvcWw2Ym5vdTZieDRuM2dsNzljeWNqbXppd2VhdnoyZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/iGoyzwQnDS6lzNhdZK/giphy.webp" alt="Loading..." class="w-50 h-auto">
    </div>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        window.onload = async function () {
            const defaultLiffId = "1657132355-K9v9jD68"; //IDLiff
            await initializeLiff(defaultLiffId);
        };

        async function initializeLiff(defaultLiffId) {
            try {
                await liff.init({
                    liffId: defaultLiffId,
                    withLoginOnExternalBrowser: true,
                });

                liff.ready.then(async () => {
                    if (!liff.isLoggedIn()) {
                        liff.login();
                    }
                    const profile = await liff.getProfile();
                    document.getElementById('pictureUrl').src = profile.pictureUrl;
                    document.getElementById('displayName').textContent = profile.displayName;
                });
            } catch (error) {
                console.error('LIFF Initialization failed', error);
            }
        }

        document.getElementById('message').onclick = async function (event) {
            event.preventDefault();
            try {
                const profile = await liff.getProfile();
                const userId = profile.userId;
                const name = profile.displayName;
                const picture = profile.pictureUrl;
                const tel = document.getElementById('tel').value;
                const number1 = document.getElementById('number1').value;
                const number2 = document.getElementById('number2').value;
                const number3 = document.getElementById('number3').value;
                const number4 = document.getElementById('number4').value;
                const number5 = document.getElementById('number5').value;
                if (!tel||!number1||!number2||!number3||!number4||!number5) {
                    Swal.fire('ผิดพลาด', 'โปรดระบุเลขหมายและเบอร์โทรให้ครบก่อนส่งด้วยค่ะ', 'info');
                    return;
                }
                await sendToSheet(userId, name, picture, tel,number1,number2,number3,number4,number5);
            } catch (error) {
                console.error('Error getting profile or sending to sheet', error);
            }
        }

        async function sendToSheet(userId, name, picture, tel,number1,number2,number3,number4,number5) {
            $('#loading-overlay').removeClass('d-none');
            try {
                const response = await $.post('https://script.google.com/macros/s/AKfycbwlfGPq_kSPnMFrMvdJRFsQ9YCrWQn_JL1TueUaG18n7fOpLvLQkDxwOfMRmCiqsh5X/exec', {
                    tel: tel,
                    number1:number1,
                    number2:number2,
                    number3:number3,
                    number4:number4,
                    number5:number5,
                    userId: userId,
                    name: name,
                    picture: picture
                });
                $('#loading-overlay').addClass('d-none');
                if (response.statusCode === 200) {
                    const flexMessage = JSON.parse(response.body);
                    Swal.fire('ดำเนินการสำเร็จ', 'ขอบคุณสำหรับร่วมกิจกรรมกับเรา', 'success').then(() => {
                        sendMessages([flexMessage]);
                    });
                }
            } catch (error) {
                console.error('Error sending data to sheet', error);
                $('#loading-overlay').addClass('d-none');
            }
        }

        async function sendMessages(msg) {
            try {
                await liff.sendMessages(msg);
                Swal.fire({
                    position: "top-end",
                    icon: "success",
                    title: "ส่งทายผลเรียบร้อยแล้ว",
                    showConfirmButton: false,
                    timer: 1500,
                }).then(() => {
                    liff.closeWindow();
                });
            } catch (error) {
                console.error('Error sending messages', error);
            }
        }
    </script>
  	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
			integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
			crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
			integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
			crossorigin="anonymous"></script>
		<script>
			$(document).ready(function () {
				$('#message').prop('disabled', true);

				$('#visto').click(function () {
					if ($(this).is(':checked')) {
						$('#message').prop('disabled', false);
					}
					else {
						$('#message').prop('disabled', true);
					}
				});
			});
      
      function closeMe() {
				setTimeout(window.close, 0);
				liff.closeWindow();
			}
		</script>
  	<script src="js.js" theme="blue" defer></script>
</body>

</html>
